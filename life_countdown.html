<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Countdown Timer</title>
</head>
<style>
  html, body {
    margin:0px;
  }
  #main{
    height: 100vh;
    width: 100vw;
    font-size: 3em;
    font-weight: 600;
    display: flex;
    justify-content: center;
    align-items: center;
  }
  #percent{
    color:red;
  }
  form{
    display:flex;
    flex-direction:column;
  }
  label{
    font-size:0.5em;
  }
</style>

<body>
  <div id="main">
    <form action="">
      <label for="birth">Enter Your Birthday</label>
      <input type="date" id="birthId" name="birthdate" min="1900-01-01" value="1988-12-11" max= >
      <label for="expectancy"></label>
      <input type="number" id="expectancy" value="90">
      <button id="submit" onclick=test()>Submit</button>
    </form>
    
  </div>
  <script >
  birthId.max = new Date().toLocaleDateString('en-us');
  
  function test(){
  let birthdayInput = document.querySelector('#birthId').value;
  let expectancy = parseInt(document.querySelector('#expectancy').value);
  let myBirthday = new Date(birthdayInput);

  let finalYear = myBirthday.getFullYear()+expectancy;
  let finalDay = myBirthday.getDate()+1;
  let finalMonth = myBirthday.getMonth()+1;
  let finalString = finalYear + "-"+finalMonth+"-"+finalDay;
  let myFinalTime = new Date(finalString);
  let currentTime = new Date();
  
  let lifeTotal = myFinalTime.getTime() - myBirthday.getTime();

  let timeLived = currentTime.getTime() - myBirthday.getTime();

  let percentLived = ((timeLived/lifeTotal)*100).toFixed(2);
 
  document.getElementById('main').innerHTML = '<h1>You have lived <span id="percent">' + percentLived + '%</span> of your life.</h1>';

};

setInterval(test, 10000000)
</script>

</body>

</html>
